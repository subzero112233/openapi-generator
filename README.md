# Under Construction 

![alt text](https://cdn.pixabay.com/photo/2017/06/16/07/26/under-construction-2408062_960_720.png)



# Golang Openapi Generator

### Generate boilerplate Golang code for [OpenAPI3](https://swagger.io/specification/) definitions.
The generator reads your OpenAPI file and uses a [pongo2](https://github.com/flosch/pongo2) template to create a Go library that includes an `interface` describing the API's functionality, which
all implementations of the API must comply with.

The template located at `example/model.go.tmpl` will suffice for most cases, but you can always add more validations/comments/etc when needed.

### Installation:
The following command will create a binary in your $GOBIN.
```
go install
```

# Example Usage:
##### OpenAPI yaml file:
```
openapi: "3.0.0"
info: { version: 0.1.1, title: myservice}
paths:
    /signup:
        summary: "Sign up for the service"
        post:
            operationId: "sign-up"
            summary: "sign up"
            requestBody:
                description: "Username and Password"
                required: true
                content:
                    application/json:
                        schema:
                            $ref: "#/components/schemas/SignupInput"
            responses:
                '200':
                    description: |
                        Login successful
                    content:
                        application/json:
                            schema:
                                $ref: "#/components/schemas/SignupOutput"
components:
    schemas:
        SignupInput:
            type: "object"
            required: ["username", "password"]
            properties:
                username:
                     type: "string"
                password:
                     type: "string"
        SignupOutput:
            type: "object"
            required: ["message"]
            properties:
                message:
                     type: "string"
```



##### Generate code:
```
openapi-generator generate model.go.tmpl openapi.yaml | goimports > model.go
```


##### Output:
```
// WARNING: THIS CODE WAS AUTOMATICALLY GENERATED BY THE API GENERATOR. DO NOT
// EDIT THIS FILE. TO ADD MORE FUNCTIONALITY TO THIS PACKAGE, CREATE NEW FILES
// IN THE SAME DIRECTORY.
package model

import (
	"context"
	"errors"
	"strings"
)

type myservice interface {

	// sign up
	SignUp(ctx context.Context, input SignupInput) (
		output SignupOutput,
		err error,
	)
}

// SignupInput:
type SignupInput struct {

	// Password:
	Password string `json:"password"`

	// Username:
	Username string `json:"username"`
}

// Validate sanitizes and validates SignupInput
// nolint: dupl
func (input *SignupInput) Validate() error {

	// trim heading and trailing whitespace from Password
	input.Password = strings.TrimSpace(input.Password)

	if input.Password == "" {
		return errors.New("password must be provided")
	}

	// trim heading and trailing whitespace from Username
	input.Username = strings.TrimSpace(input.Username)

	if input.Username == "" {
		return errors.New("username must be provided")
	}

	return nil
}

// SignupOutput:
type SignupOutput struct {

	// Message:
	Message string `json:"message"`
}

// Validate sanitizes and validates SignupOutput
// nolint: dupl
func (input *SignupOutput) Validate() error {

	// trim heading and trailing whitespace from Message
	input.Message = strings.TrimSpace(input.Message)

	if input.Message == "" {
		return errors.New("message must be provided")
	}

	return nil
}
```

#### Parse your OpenAPI file to inspect your schemas, methods, types and more:
```
openapi-generator parse openapi.yaml
```
